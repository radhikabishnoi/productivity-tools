<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Project Management Tool - ProductivityTools.in</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
/* Same Style as Main Website */
:root {
--primary: #4361ee;
--secondary: #3a0ca3;
--accent: #4cc9f0;
--light: #f8f9fa;
--dark: #212529;
}
* {
margin: 0;
padding: 0;
box-sizing: border-box;
font-family: 'Segoe UI', system-ui, sans-serif;
}
body {
background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
color: var(--dark);
line-height: 1.6;
min-height: 100vh;
}
header {
background: white;
box-shadow: 0 4px 12px rgba(0,0,0,0.1);
position: sticky;
top: 0;
z-index: 1000;
}
.container {
max-width: 1200px;
margin: 0 auto;
padding: 0 20px;
}
.navbar {
display: flex;
justify-content: space-between;
align-items: center;
padding: 1.2rem 0;
}
.logo {
font-size: 1.8rem;
font-weight: 800;
color: var(--primary);
text-decoration: none;
display: flex;
align-items: center;
gap: 10px;
}
.nav-links {
display: flex;
gap: 2rem;
list-style: none;
}
.nav-links a {
text-decoration: none;
color: var(--dark);
font-weight: 600;
padding: 8px 16px;
border-radius: 20px;
transition: all 0.3s ease;
}
.nav-links a:hover, .nav-links a.active {
background: var(--primary);
color: white;
}
.page-header {
text-align: center;
padding: 4rem 0 2rem;
background: linear-gradient(rgba(67, 97, 238, 0.9), rgba(58, 12, 163, 0.9));
color: white;
margin-bottom: 3rem;
border-radius: 0 0 30px 30px;
}
.page-header h1 {
font-size: 2.8rem;
margin-bottom: 0.5rem;
}
.project-container {
display: grid;
grid-template-columns: 350px 1fr;
gap: 2rem;
margin-bottom: 4rem;
}
@media (max-width: 992px) {
.project-container {
grid-template-columns: 1fr;
}
}
.projects-sidebar {
background: white;
padding: 2rem;
border-radius: 15px;
box-shadow: 0 10px 30px rgba(0,0,0,0.08);
}
.board-section {
background: white;
padding: 2rem;
border-radius: 15px;
box-shadow: 0 10px 30px rgba(0,0,0,0.08);
min-height: 600px;
}
.project-item {
display: flex;
align-items: center;
gap: 1rem;
padding: 1rem;
margin-bottom: 1rem;
border-radius: 10px;
cursor: pointer;
transition: all 0.3s ease;
border: 2px solid transparent;
}
.project-item:hover {
background: #f8f9fa;
transform: translateX(5px);
}
.project-item.active {
background: #e7f5ff;
border-color: var(--accent);
}
.project-icon {
font-size: 1.5rem;
width: 40px;
height: 40px;
display: flex;
align-items: center;
justify-content: center;
border-radius: 50%;
background: var(--primary);
color: white;
}
.project-progress {
height: 5px;
background: #e9ecef;
border-radius: 3px;
margin-top: 5px;
overflow: hidden;
}
.progress-bar {
height: 100%;
background: var(--primary);
border-radius: 3px;
transition: width 0.3s ease;
}
.form-group {
margin-bottom: 1.5rem;
}
.form-group label {
display: block;
margin-bottom: 0.5rem;
font-weight: 600;
color: var(--dark);
}
.form-control {
width: 100%;
padding: 12px 15px;
border: 1px solid #ddd;
border-radius: 8px;
font-size: 1rem;
transition: border 0.3s ease;
}
.form-control:focus {
border-color: var(--primary);
outline: none;
box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
}
textarea.form-control {
min-height: 100px;
resize: vertical;
}
.btn {
background: var(--primary);
color: white;
border: none;
padding: 12px 24px;
border-radius: 8px;
font-size: 1rem;
font-weight: 600;
cursor: pointer;
transition: all 0.3s ease;
display: inline-flex;
align-items: center;
gap: 8px;
}
.btn:hover {
background: var(--secondary);
transform: translateY(-2px);
}
.btn-secondary {
background: #6c757d;
}
.btn-secondary:hover {
background: #5a6268;
}
.btn-success {
background: #4ade80;
}
.btn-success:hover {
background: #22c55e;
}
.action-buttons {
display: flex;
gap: 1rem;
margin-top: 2rem;
flex-wrap: wrap;
}
.kanban-board {
display: grid;
grid-template-columns: repeat(4, 1fr);
gap: 1rem;
margin-top: 2rem;
}
@media (max-width: 1200px) {
.kanban-board {
grid-template-columns: repeat(2, 1fr);
}
}
@media (max-width: 768px) {
.kanban-board {
grid-template-columns: 1fr;
}
}
.board-column {
background: #f8f9fa;
border-radius: 10px;
padding: 1rem;
min-height: 400px;
}
.column-header {
background: var(--primary);
color: white;
padding: 10px 15px;
border-radius: 8px;
margin-bottom: 1rem;
text-align: center;
font-weight: 600;
}
.task-item {
background: white;
border-radius: 8px;
padding: 1rem;
margin-bottom: 1rem;
box-shadow: 0 2px 5px rgba(0,0,0,0.1);
cursor: move;
transition: all 0.3s ease;
border-left: 4px solid var(--primary);
}
.task-item:hover {
transform: translateY(-3px);
box-shadow: 0 5px 15px rgba(0,0,0,0.1);
}
.task-item.high {
border-left-color: #ef4444;
}
.task-item.medium {
border-left-color: #f59e0b;
}
.task-item.low {
border-left-color: #4ade80;
}
.task-actions {
display: flex;
justify-content: space-between;
margin-top: 10px;
padding-top: 10px;
border-top: 1px solid #eee;
}
.task-btn {
background: none;
border: none;
cursor: pointer;
color: #666;
transition: color 0.3s ease;
font-size: 0.9rem;
}
.task-btn:hover {
color: var(--primary);
}
.task-priority {
display: inline-block;
padding: 2px 8px;
border-radius: 12px;
font-size: 0.75rem;
font-weight: 600;
margin-bottom: 5px;
}
.priority-high {
background: #fee2e2;
color: #dc2626;
}
.priority-medium {
background: #fef3c7;
color: #d97706;
}
.priority-low {
background: #dcfce7;
color: #16a34a;
}
.instructions {
background: #e7f5ff;
border-left: 4px solid var(--accent);
padding: 1.5rem;
border-radius: 8px;
margin-top: 2rem;
}
footer {
background: var(--dark);
color: white;
padding: 2rem 0;
margin-top: 4rem;
text-align: center;
}
@media (max-width: 768px) {
.nav-links {
flex-wrap: wrap;
justify-content: center;
gap: 1rem;
}
.page-header h1 {
font-size: 2.2rem;
}
.action-buttons {
flex-direction: column;
}
.btn {
width: 100%;
justify-content: center;
}
}
</style>
</head>
<body>
<!-- Header & Navigation -->
<header>
<div class="container">
<nav class="navbar">
<a href="index.html" class="logo">
<i class="fas fa-tools"></i>
ProductivityTools.in
</a>
<ul class="nav-links">
<li><a href="index.html">Home</a></li>
<li><a href="about.html">About</a></li>
<li><a href="contact.html">Contact</a></li>
<li><a href="privacy.html">Privacy</a></li>
<li><a href="index.html#tools" style="background: var(--accent);">All Tools</a></li>
</ul>
</nav>
</div>
</header>

<!-- Page Header -->
<section class="page-header">
<div class="container">
<h1><i class="fas fa-project-diagram"></i> Project Management Tool</h1>
<p>Track tasks, assign responsibilities, and monitor progress</p>
</div>
</section>

<!-- Tool Interface -->
<div class="container">
<div class="project-container">
<!-- Projects Sidebar -->
<div class="projects-sidebar">
<h2 style="color: var(--secondary); margin-bottom: 1.5rem;">Projects</h2>

<div class="project-item active" data-project="website">
<div class="project-icon">
<i class="fas fa-globe"></i>
</div>
<div style="flex: 1;">
<h3 style="margin: 0; font-size: 1.1rem;">Website Redesign</h3>
<p style="margin: 5px 0 0; color: #666; font-size: 0.9rem;">Due: March 30, 2024</p>
<div class="project-progress">
<div class="progress-bar" style="width: 65%;"></div>
</div>
</div>
</div>

<div class="project-item" data-project="marketing">
<div class="project-icon" style="background: #4ade80;">
<i class="fas fa-bullhorn"></i>
</div>
<div style="flex: 1;">
<h3 style="margin: 0; font-size: 1.1rem;">Marketing Campaign</h3>
<p style="margin: 5px 0 0; color: #666; font-size: 0.9rem;">Due: April 15, 2024</p>
<div class="project-progress">
<div class="progress-bar" style="width: 30%;"></div>
</div>
</div>
</div>

<div class="project-item" data-project="product">
<div class="project-icon" style="background: #f59e0b;">
<i class="fas fa-cube"></i>
</div>
<div style="flex: 1;">
<h3 style="margin: 0; font-size: 1.1rem;">Product Launch</h3>
<p style="margin: 5px 0 0; color: #666; font-size: 0.9rem;">Due: May 1, 2024</p>
<div class="project-progress">
<div class="progress-bar" style="width: 15%;"></div>
</div>
</div>
</div>

<!-- New Project Form -->
<div style="margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid #eee;">
<h3 style="color: var(--primary); margin-bottom: 1rem;">Create New Project</h3>

<form id="newProjectForm">
<div class="form-group">
<input type="text" id="projectName" class="form-control" placeholder="Project name">
</div>

<div class="form-group">
<input type="date" id="projectDueDate" class="form-control">
</div>

<button type="button" id="addProjectBtn" class="btn btn-success" style="width: 100%;">
<i class="fas fa-plus"></i> Add Project
</button>
</form>
</div>

<div class="instructions" style="margin-top: 2rem;">
<h3><i class="fas fa-chart-line"></i> Project Stats</h3>
<ul style="margin-top: 0.5rem; padding-left: 1.5rem;">
<li>Total Projects: <strong>3</strong></li>
<li>Active Tasks: <strong>12</strong></li>
<li>Completed: <strong>8</strong></li>
<li>Overdue: <strong>0</strong></li>
</ul>
</div>
</div>

<!-- Kanban Board -->
<div class="board-section">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
<h2 style="color: var(--secondary); margin: 0;">Website Redesign - Task Board</h2>
<button type="button" id="addTaskBtn" class="btn">
<i class="fas fa-plus"></i> Add Task
</button>
</div>

<div class="kanban-board" id="kanbanBoard">
<!-- To Do Column -->
<div class="board-column" id="todoColumn">
<div class="column-header">To Do</div>
<div class="task-list" id="todoList">
<!-- Tasks will be added here -->
</div>
</div>

<!-- In Progress Column -->
<div class="board-column" id="progressColumn">
<div class="column-header">In Progress</div>
<div class="task-list" id="progressList">
<!-- Tasks will be added here -->
</div>
</div>

<!-- Review Column -->
<div class="board-column" id="reviewColumn">
<div class="column-header">Review</div>
<div class="task-list" id="reviewList">
<!-- Tasks will be added here -->
</div>
</div>

<!-- Done Column -->
<div class="board-column" id="doneColumn">
<div class="column-header">Done</div>
<div class="task-list" id="doneList">
<!-- Tasks will be added here -->
</div>
</div>
</div>

<!-- Task Modal -->
<div id="taskModal" style="display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0,0,0,0.5); z-index: 1001; align-items: center; justify-content: center;">
<div style="background: white; padding: 2rem; border-radius: 15px; max-width: 500px; width: 90%; max-height: 90vh; overflow-y: auto;">
<h2 style="color: var(--secondary); margin-bottom: 1.5rem;">Add New Task</h2>

<form id="taskForm">
<div class="form-group">
<label for="taskTitle">Task Title</label>
<input type="text" id="taskTitle" class="form-control" placeholder="Enter task title" required>
</div>

<div class="form-group">
<label for="taskDescription">Description</label>
<textarea id="taskDescription" class="form-control" placeholder="Describe the task..." rows="3"></textarea>
</div>

<div class="form-group">
<label for="taskAssignee">Assignee</label>
<select id="taskAssignee" class="form-control">
<option value="">Unassigned</option>
<option value="Ravi">Ravi (Designer)</option>
<option value="Priya">Priya (Developer)</option>
<option value="Amit">Amit (QA)</option>
<option value="Sneha">Sneha (PM)</option>
</select>
</div>

<div class="form-group">
<label for="taskPriority">Priority</label>
<select id="taskPriority" class="form-control">
<option value="low">Low</option>
<option value="medium" selected>Medium</option>
<option value="high">High</option>
</select>
</div>

<div class="form-group">
<label for="taskDueDate">Due Date</label>
<input type="date" id="taskDueDate" class="form-control">
</div>

<div class="action-buttons">
<button type="button" id="saveTaskBtn" class="btn">
<i class="fas fa-save"></i> Save Task
</button>
<button type="button" id="cancelTaskBtn" class="btn btn-secondary">
<i class="fas fa-times"></i> Cancel
</button>
</div>
</form>
</div>
</div>

<div class="instructions">
<h3><i class="fas fa-lightbulb"></i> How to Use:</h3>
<ol style="margin-top: 0.5rem; padding-left: 1.5rem;">
<li>Select project from sidebar</li>
<li>Drag and drop tasks between columns</li>
<li>Click "Add Task" to create new tasks</li>
<li>Click on existing tasks to edit them</li>
<li>Track progress with visual indicators</li>
</ol>
<p style="margin-top: 1rem; font-style: italic;">
<i class="fas fa-shield-alt"></i> All data is saved in your browser's local storage. It remains on your device.
</p>
</div>
</div>
</div>
</div>

<!-- Footer -->
<footer>
<div class="container">
<p>&copy; 2024 ProductivityTools.in | Free Project Management Tool</p>
<p style="margin-top: 1rem; opacity: 0.8;">
<a href="index.html" style="color: #4cc9f0; text-decoration: none;">Home</a> |
<a href="about.html" style="color: #4cc9f0; text-decoration: none;">About</a> |
<a href="contact.html" style="color: #4cc9f0; text-decoration: none;">Contact</a> |
<a href="privacy.html" style="color: #4cc9f0; text-decoration: none;">Privacy</a>
</p>
</div>
</footer>

<script>
// Project Selection
document.querySelectorAll('.project-item').forEach(item => {
item.addEventListener('click', function() {
if(this.classList.contains('active')) return;

document.querySelectorAll('.project-item').forEach(i => i.classList.remove('active'));
this.classList.add('active');

const project = this.dataset.project;
loadProject(project);
});
});

// Sample Tasks Data
const tasks = {
website: {
todo: [
{ id: 1, title: "Design homepage mockup", description: "Create wireframe for new homepage design", assignee: "Ravi", priority: "high", dueDate: "2024-03-18" },
{ id: 2, title: "Setup development environment", description: "Install required software and tools", assignee: "Priya", priority: "medium", dueDate: "2024-03-19" },
{ id: 3, title: "Create content strategy", description: "Plan content for all website pages", assignee: "Sneha", priority: "low", dueDate: "2024-03-20" }
],
progress: [
{ id: 4, title: "Develop contact form", description: "Create functional contact form with validation", assignee: "Priya", priority: "medium", dueDate: "2024-03-17" },
{ id: 5, title: "Design logo variations", description: "Create 3 logo options for client review", assignee: "Ravi", priority: "high", dueDate: "2024-03-16" }
],
review: [
{ id: 6, title: "Test mobile responsiveness", description: "Check website on different mobile devices", assignee: "Amit", priority: "medium", dueDate: "2024-03-15" }
],
done: [
{ id: 7, title: "Purchase domain name", description: "Register productivitytool.in domain", assignee: "Sneha", priority: "low", dueDate: "2024-03-10" },
{ id: 8, title: "Setup web hosting", description: "Configure Netlify for hosting", assignee: "Priya", priority: "medium", dueDate: "2024-03-12" }
]
},
marketing: {
todo: [],
progress: [],
review: [],
done: []
},
product: {
todo: [],
progress: [],
review: [],
done: []
}
};

let currentProject = 'website';
let taskIdCounter = 9;

// Load Project Tasks
function loadProject(project) {
currentProject = project;

// Clear all columns
['todoList', 'progressList', 'reviewList', 'doneList'].forEach(listId => {
document.getElementById(listId).innerHTML = '';
});

// Load tasks for current project
const projectTasks = tasks[project];

// Add tasks to columns
projectTasks.todo.forEach(task => addTaskToColumn(task, 'todoList'));
projectTasks.progress.forEach(task => addTaskToColumn(task, 'progressList'));
projectTasks.review.forEach(task => addTaskToColumn(task, 'reviewList'));
projectTasks.done.forEach(task => addTaskToColumn(task, 'doneList'));

// Update project stats
updateProjectStats();

// Setup drag and drop
setupDragAndDrop();
}

// Add Task to Column
function addTaskToColumn(task, columnId) {
const column = document.getElementById(columnId);
if(!column) return;

const priorityClass = `priority-${task.priority}`;
const priorityText = task.priority.charAt(0).toUpperCase() + task.priority.slice(1);

const taskElement = document.createElement('div');
taskElement.className = `task-item ${task.priority}`;
taskElement.id = `task-${task.id}`;
taskElement.draggable = true;
taskElement.dataset.taskId = task.id;

taskElement.innerHTML = `
<div class="task-priority ${priorityClass}">${priorityText}</div>
<h4 style="margin: 5px 0; font-size: 1rem;">${task.title}</h4>
<p style="margin: 5px 0; color: #666; font-size: 0.9rem;">${task.description}</p>
<div style="display: flex; justify-content: space-between; margin-top: 10px;">
<span style="font-size: 0.85rem; color: ${task.assignee ? var('--primary') : '#666'};">
<i class="fas fa-user"></i> ${task.assignee || 'Unassigned'}
</span>
<span style="font-size: 0.85rem; color: #666;">
<i class="fas fa-calendar"></i> ${task.dueDate || 'No due date'}
</span>
</div>
<div class="task-actions">
<button class="task-btn edit-task" data-task-id="${task.id}">
<i class="fas fa-edit"></i> Edit
</button>
<button class="task-btn delete-task" data-task-id="${task.id}">
<i class="fas fa-trash"></i> Delete
</button>
</div>
`;

column.appendChild(taskElement);
}

// Update Project Stats
function updateProjectStats() {
const projectTasks = tasks[currentProject];
const totalTasks =
projectTasks.todo.length +
projectTasks.progress.length +
projectTasks.review.length +
projectTasks.done.length;

const completed = projectTasks.done.length;
const progress = totalTasks > 0 ? Math.round((completed / totalTasks) * 100) : 0;

// Update progress bar
const activeProject = document.querySelector('.project-item.active');
const progressBar = activeProject.querySelector('.progress-bar');
if(progressBar) {
progressBar.style.width = `${progress}%`;
}
}

// Setup Drag and Drop
function setupDragAndDrop() {
const taskItems = document.querySelectorAll('.task-item');
const columns = document.querySelectorAll('.board-column');

taskItems.forEach(task => {
task.addEventListener('dragstart', handleDragStart);
task.addEventListener('dragend', handleDragEnd);
});

columns.forEach(column => {
column.addEventListener('dragover', handleDragOver);
column.addEventListener('drop', handleDrop);
});
}

function handleDragStart(e) {
e.dataTransfer.setData('text/plain', this.id);
this.classList.add('dragging');
}

function handleDragEnd(e) {
this.classList.remove('dragging');
}

function handleDragOver(e) {
e.preventDefault();
}

function handleDrop(e) {
e.preventDefault();
const taskId = e.dataTransfer.getData('text/plain');
const taskElement = document.getElementById(taskId);
const column = e.currentTarget;
const taskList = column.querySelector('.task-list');

if(taskElement && taskList) {
taskList.appendChild(taskElement);

// Update tasks data structure
const taskIdNum = parseInt(taskElement.dataset.taskId);
const fromColumn = getColumnName(taskElement.parentElement.parentElement.id);
const toColumn = getColumnName(column.id);

if(fromColumn !== toColumn) {
moveTask(taskIdNum, fromColumn, toColumn);
updateProjectStats();
}
}
}

function getColumnName(columnId) {
switch(columnId) {
case 'todoColumn': return 'todo';
case 'progressColumn': return 'progress';
case 'reviewColumn': return 'review';
case 'doneColumn': return 'done';
default: return 'todo';
}
}

function moveTask(taskId, fromColumn, toColumn) {
const projectTasks = tasks[currentProject];

// Find task in fromColumn
let taskIndex = -1;
let task = null;

projectTasks[fromColumn].forEach((t, index) => {
if(t.id === taskId) {
taskIndex = index;
task = t;
}
});

if(taskIndex !== -1 && task) {
// Remove from old column
projectTasks[fromColumn].splice(taskIndex, 1);

// Add to new column
projectTasks[toColumn].push(task);

// Save to localStorage
saveToLocalStorage();
}
}

// Task Modal
const taskModal = document.getElementById('taskModal');
const addTaskBtn = document.getElementById('addTaskBtn');
const saveTaskBtn = document.getElementById('saveTaskBtn');
const cancelTaskBtn = document.getElementById('cancelTaskBtn');

let editingTaskId = null;

addTaskBtn.addEventListener('click', function() {
editingTaskId = null;
document.getElementById('taskTitle').value = '';
document.getElementById('taskDescription').value = '';
document.getElementById('taskAssignee').value = '';
document.getElementById('taskPriority').value = 'medium';
document.getElementById('taskDueDate').value = '';

taskModal.style.display = 'flex';
});

saveTaskBtn.addEventListener('click', function() {
const title = document.getElementById('taskTitle').value.trim();
if(!title) {
alert('Please enter a task title');
return;
}

const task = {
id: editingTaskId || taskIdCounter++,
title: title,
description: document.getElementById('taskDescription').value,
assignee: document.getElementById('taskAssignee').value,
priority: document.getElementById('taskPriority').value,
dueDate: document.getElementById('taskDueDate').value
};

if(editingTaskId) {
// Update existing task
updateExistingTask(task);
} else {
// Add new task
tasks[currentProject].todo.push(task);
addTaskToColumn(task, 'todoList');
}

taskModal.style.display = 'none';
updateProjectStats();
setupDragAndDrop();
saveToLocalStorage();
});

cancelTaskBtn.addEventListener('click', function() {
taskModal.style.display = 'none';
});

// Close modal when clicking outside
taskModal.addEventListener('click', function(e) {
if(e.target === taskModal) {
taskModal.style.display = 'none';
}
});

// Edit Task
document.addEventListener('click', function(e) {
if(e.target.closest('.edit-task')) {
const taskId = parseInt(e.target.closest('.edit-task').dataset.taskId);
editTask(taskId);
}

if(e.target.closest('.delete-task')) {
const taskId = parseInt(e.target.closest('.delete-task').dataset.taskId);
deleteTask(taskId);
}
});

function editTask(taskId) {
// Find task in all columns
let task = null;
const columns = ['todo', 'progress', 'review', 'done'];

for(const column of columns) {
task = tasks[currentProject][column].find(t => t.id === taskId);
if(task) break;
}

if(task) {
editingTaskId = taskId;
document.getElementById('taskTitle').value = task.title;
document.getElementById('taskDescription').value = task.description || '';
document.getElementById('taskAssignee').value = task.assignee || '';
document.getElementById('taskPriority').value = task.priority;
document.getElementById('taskDueDate').value = task.dueDate || '';

taskModal.style.display = 'flex';
}
}

function updateExistingTask(updatedTask) {
const columns = ['todo', 'progress', 'review', 'done'];

for(const column of columns) {
const taskIndex = tasks[currentProject][column].findIndex(t => t.id === updatedTask.id);
if(taskIndex !== -1) {
tasks[currentProject][column][taskIndex] = updatedTask;

// Update DOM
const taskElement = document.getElementById(`task-${updatedTask.id}`);
if(taskElement) {
const priorityClass = `priority-${updatedTask.priority}`;
const priorityText = updatedTask.priority.charAt(0).toUpperCase() + updatedTask.priority.slice(1);

taskElement.querySelector('.task-priority').className = `task-priority ${priorityClass}`;
taskElement.querySelector('.task-priority').textContent = priorityText;
taskElement.querySelector('h4').textContent = updatedTask.title;
taskElement.querySelector('p').textContent = updatedTask.description;
taskElement.querySelector('.fa-user').parentElement.innerHTML = `<i class="fas fa-user"></i> ${updatedTask.assignee || 'Unassigned'}`;
taskElement.querySelector('.fa-calendar').parentElement.innerHTML = `<i class="fas fa-calendar"></i> ${updatedTask.dueDate || 'No due date'}`;

taskElement.className = `task-item ${updatedTask.priority}`;
}

break;
}
}
}

function deleteTask(taskId) {
if(!confirm('Are you sure you want to delete this task?')) return;

const columns = ['todo', 'progress', 'review', 'done'];

for(const column of columns) {
const taskIndex = tasks[currentProject][column].findIndex(t => t.id === taskId);
if(taskIndex !== -1) {
tasks[currentProject][column].splice(taskIndex, 1);

// Remove from DOM
const taskElement = document.getElementById(`task-${taskId}`);
if(taskElement) {
taskElement.remove();
}

updateProjectStats();
saveToLocalStorage();
break;
}
}
}

// Add New Project
document.getElementById('addProjectBtn').addEventListener('click', function() {
const name = document.getElementById('projectName').value.trim();
const dueDate = document.getElementById('projectDueDate').value;

if(!name) {
alert('Please enter a project name');
return;
}

// Create new project
const projectId = name.toLowerCase().replace(/\s+/g, '_');

// Add to tasks data
tasks[projectId] = {
todo: [],
progress: [],
review: [],
done: []
};

// Create project item
const projectsSidebar = document.querySelector('.projects-sidebar');
const projectForm = document.getElementById('newProjectForm');

const projectItem = document.createElement('div');
projectItem.className = 'project-item';
projectItem.dataset.project = projectId;

const colors = ['#4361ee', '#4ade80', '#f59e0b', '#ef4444', '#8b5cf6'];
const randomColor = colors[Math.floor(Math.random() * colors.length)];

projectItem.innerHTML = `
<div class="project-icon" style="background: ${randomColor};">
<i class="fas fa-folder"></i>
</div>
<div style="flex: 1;">
<h3 style="margin: 0; font-size: 1.1rem;">${name}</h3>
<p style="margin: 5px 0 0; color: #666; font-size: 0.9rem;">Due: ${dueDate || 'No due date'}</p>
<div class="project-progress">
<div class="progress-bar" style="width: 0%;"></div>
</div>
</div>
`;

// Insert before the form
projectsSidebar.insertBefore(projectItem, projectForm.parentElement);

// Add click event
projectItem.addEventListener('click', function() {
document.querySelectorAll('.project-item').forEach(i => i.classList.remove('active'));
this.classList.add('active');
loadProject(projectId);
});

// Clear form
document.getElementById('projectName').value = '';
document.getElementById('projectDueDate').value = '';

// Select the new project
projectItem.click();

saveToLocalStorage();
});

// Save to Local Storage
function saveToLocalStorage() {
try {
localStorage.setItem('productivityTools_projects', JSON.stringify(tasks));
localStorage.setItem('productivityTools_currentProject', currentProject);
localStorage.setItem('productivityTools_taskIdCounter', taskIdCounter.toString());
} catch(e) {
console.log('Local storage error:', e);
}
}

// Load from Local Storage
function loadFromLocalStorage() {
try {
const savedTasks = localStorage.getItem('productivityTools_projects');
const savedCurrentProject = localStorage.getItem('productivityTools_currentProject');
const savedTaskIdCounter = localStorage.getItem('productivityTools_taskIdCounter');

if(savedTasks) {
Object.assign(tasks, JSON.parse(savedTasks));
}

if(savedCurrentProject) {
currentProject = savedCurrentProject;
}

if(savedTaskIdCounter) {
taskIdCounter = parseInt(savedTaskIdCounter);
}
} catch(e) {
console.log('Local storage load error:', e);
}
}

// Initialize
document.addEventListener('DOMContentLoaded', function() {
// Load from localStorage
loadFromLocalStorage();

// Set default date for new task
const today = new Date().toISOString().split('T')[0];
const nextWeek = new Date();
nextWeek.setDate(nextWeek.getDate() + 7);
const nextWeekStr = nextWeek.toISOString().split('T')[0];

document.getElementById('taskDueDate').value = nextWeekStr;
document.getElementById('projectDueDate').value = nextWeekStr;

// Load initial project
loadProject(currentProject);

// Active navigation link
const currentPage = window.location.pathname.split('/').pop();
const navLinks = document.querySelectorAll('.nav-links a');
navLinks.forEach(link => {
if (link.getAttribute('href') === 'project-tool.html') {
link.classList.add('active');
}
});
});
</script>
</body>
</html>